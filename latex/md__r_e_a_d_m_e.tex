\href{https://core.telegram.org/bots/api}{\texttt{ }}  

\href{https://packagist.org/packages/eleirbag89/telegrambotphp}{\texttt{ }} \href{https://packagist.org/packages/eleirbag89/telegrambotphp}{\texttt{ }} \href{https://styleci.io/repos/38492095}{\texttt{ }}

A very simple PHP \href{https://core.telegram.org/bots}{\texttt{ Telegram Bot API}}. ~\newline
 Compliant with the April 16, 2022 \mbox{\hyperlink{class_telegram}{Telegram}} Bot API update.\hypertarget{md__r_e_a_d_m_e_autotoc_md1}{}\doxysection{Requirements}\label{md__r_e_a_d_m_e_autotoc_md1}

\begin{DoxyItemize}
\item PHP \texorpdfstring{$>$}{>}= 5.\+3
\item Curl extension for PHP5 must be enabled.
\item \mbox{\hyperlink{class_telegram}{Telegram}} API key, you can get one simply with \href{https://core.telegram.org/bots\#botfather}{\texttt{ @\+Bot\+Father}} with simple commands right after creating your bot.
\end{DoxyItemize}

For the Web\+Hook\+:
\begin{DoxyItemize}
\item An VALID SSL certificate (\mbox{\hyperlink{class_telegram}{Telegram}} API requires this). You can use \href{https://www.cloudflare.com/ssl}{\texttt{ Cloudflare\textquotesingle{}s Free Flexible SSL}} which crypts the web traffic from end user to their proxies if you\textquotesingle{}re using Cloud\+Flare DNS. ~\newline
 Since the August 29 update you can use a self-\/signed ssl certificate.
\end{DoxyItemize}

For the get\+Updates(\+Long Polling)\+:
\begin{DoxyItemize}
\item Some way to execute the script in order to serve messages (for example cronjob)
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md2}{}\doxysection{Download}\label{md__r_e_a_d_m_e_autotoc_md2}
\hypertarget{md__r_e_a_d_m_e_autotoc_md3}{}\doxysubsubsection{Using Composer}\label{md__r_e_a_d_m_e_autotoc_md3}
From your project directory, run\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{composer require eleirbag89/telegrambotphp}

\end{DoxyCode}
 or 
\begin{DoxyCode}{0}
\DoxyCodeLine{php composer.phar require eleirbag89/telegrambotphp}

\end{DoxyCode}
 Note\+: If you don\textquotesingle{}t have Composer you can download it \href{https://getcomposer.org/download/}{\texttt{ HERE}}.\hypertarget{md__r_e_a_d_m_e_autotoc_md4}{}\doxysubsubsection{Using release archives}\label{md__r_e_a_d_m_e_autotoc_md4}
\href{https://github.com/Eleirbag89/TelegramBotPHP/releases}{\texttt{ https\+://github.\+com/\+Eleirbag89/\+Telegram\+Bot\+PHP/releases}}\hypertarget{md__r_e_a_d_m_e_autotoc_md5}{}\doxysubsubsection{Using Git}\label{md__r_e_a_d_m_e_autotoc_md5}
From a project directory, run\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{git clone https://github.com/Eleirbag89/TelegramBotPHP.git}

\end{DoxyCode}
\hypertarget{md__r_e_a_d_m_e_autotoc_md6}{}\doxysection{Installation}\label{md__r_e_a_d_m_e_autotoc_md6}
\hypertarget{md__r_e_a_d_m_e_autotoc_md7}{}\doxysubsubsection{Via Composer\textquotesingle{}s autoloader}\label{md__r_e_a_d_m_e_autotoc_md7}
After downloading by using Composer, you can include Composer\textquotesingle{}s autoloader\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{include (\_\_DIR\_\_ . \textcolor{stringliteral}{'/vendor/autoload.php'});}
\DoxyCodeLine{}
\DoxyCodeLine{\$telegram = \textcolor{keyword}{new} \mbox{\hyperlink{class_telegram}{Telegram}}(\textcolor{stringliteral}{'YOUR TELEGRAM TOKEN HERE'});}

\end{DoxyCode}
\hypertarget{md__r_e_a_d_m_e_autotoc_md8}{}\doxysubsubsection{Via Telegram\+Bot\+PHP class}\label{md__r_e_a_d_m_e_autotoc_md8}
Copy Telegram.\+php into your server and include it in your new bot script\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{include \textcolor{stringliteral}{'Telegram.php'};}
\DoxyCodeLine{}
\DoxyCodeLine{\$telegram = \textcolor{keyword}{new} \mbox{\hyperlink{class_telegram}{Telegram}}(\textcolor{stringliteral}{'YOUR TELEGRAM TOKEN HERE'});}

\end{DoxyCode}


Note\+: To enable error log file, also copy Telegram\+Error\+Logger.\+php in the same directory of Telegram.\+php file.\hypertarget{md__r_e_a_d_m_e_autotoc_md9}{}\doxysection{Configuration (\+Web\+Hook)}\label{md__r_e_a_d_m_e_autotoc_md9}
Navigate to \href{https://api.telegram.org/bot(BOT_TOKEN)/setWebhook?url=https://yoursite.com/your_update.php}{\texttt{ https\+://api.\+telegram.\+org/bot(\+BOT\+\_\+\+TOKEN)/set\+Webhook?url=https\+://yoursite.\+com/your\+\_\+update.\+php}} Or use the \mbox{\hyperlink{class_telegram}{Telegram}} class set\+Webhook method.\hypertarget{md__r_e_a_d_m_e_autotoc_md10}{}\doxysection{Examples}\label{md__r_e_a_d_m_e_autotoc_md10}

\begin{DoxyCode}{0}
\DoxyCodeLine{\$telegram = \textcolor{keyword}{new} \mbox{\hyperlink{class_telegram}{Telegram}}(\textcolor{stringliteral}{'YOUR TELEGRAM TOKEN HERE'});}
\DoxyCodeLine{}
\DoxyCodeLine{\$chat\_id = \$telegram-\/>ChatID();}
\DoxyCodeLine{\$content = array(\textcolor{stringliteral}{'chat\_id'} => \$chat\_id, \textcolor{stringliteral}{'text'} => \textcolor{stringliteral}{'Test'});}
\DoxyCodeLine{\$telegram-\/>sendMessage(\$content);}

\end{DoxyCode}


If you want to get some specific parameter from the \mbox{\hyperlink{class_telegram}{Telegram}} response\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\$telegram = \textcolor{keyword}{new} \mbox{\hyperlink{class_telegram}{Telegram}}(\textcolor{stringliteral}{'YOUR TELEGRAM TOKEN HERE'});}
\DoxyCodeLine{}
\DoxyCodeLine{\$result = \$telegram-\/>getData();}
\DoxyCodeLine{\$text = \$result[\textcolor{stringliteral}{'message'}] [\textcolor{stringliteral}{'text'}];}
\DoxyCodeLine{\$chat\_id = \$result[\textcolor{stringliteral}{'message'}] [\textcolor{stringliteral}{'chat'}][\textcolor{stringliteral}{'id'}];}
\DoxyCodeLine{\$content = array(\textcolor{stringliteral}{'chat\_id'} => \$chat\_id, \textcolor{stringliteral}{'text'} => \textcolor{stringliteral}{'Test'});}
\DoxyCodeLine{\$telegram-\/>sendMessage(\$content);}

\end{DoxyCode}


To upload a Photo or some other files, you need to load it with Curl\+File\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// Load a local file to upload. If is already on Telegram's Servers just pass the resource id}}
\DoxyCodeLine{\$img = curl\_file\_create(\textcolor{stringliteral}{'test.png'},\textcolor{stringliteral}{'image/png'}); }
\DoxyCodeLine{\$content = array(\textcolor{stringliteral}{'chat\_id'} => \$chat\_id, \textcolor{stringliteral}{'photo'} => \$img );}
\DoxyCodeLine{\$telegram-\/>sendPhoto(\$content);}

\end{DoxyCode}


To download a file on the \mbox{\hyperlink{class_telegram}{Telegram}}\textquotesingle{}s servers 
\begin{DoxyCode}{0}
\DoxyCodeLine{\$file = \$telegram-\/>getFile(\$file\_id);}
\DoxyCodeLine{\$telegram-\/>downloadFile(\$file[\textcolor{stringliteral}{'result'}][\textcolor{stringliteral}{'file\_path'}], \textcolor{stringliteral}{'./my\_downloaded\_file\_on\_local\_server.png'});}

\end{DoxyCode}


See update.\+php or update cowsay.\+php for the complete example. If you wanna see the Cow\+Say Bot in action \href{https://telegram.me/cowmooobot}{\texttt{ add it}}.

If you want to use get\+Updates instead of the Web\+Hook you need to call the the {\ttfamily serve\+Update} function inside a for cycle. 
\begin{DoxyCode}{0}
\DoxyCodeLine{\$telegram = \textcolor{keyword}{new} \mbox{\hyperlink{class_telegram}{Telegram}}(\textcolor{stringliteral}{'YOUR TELEGRAM TOKEN HERE'});}
\DoxyCodeLine{}
\DoxyCodeLine{\$req = \$telegram-\/>getUpdates();}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordflow}{for} (\$i = 0; \$i < \$telegram-\/> UpdateCount(); \$i++) \{}
\DoxyCodeLine{    \textcolor{comment}{// You NEED to call serveUpdate before accessing the values of message in Telegram Class}}
\DoxyCodeLine{    \$telegram-\/>serveUpdate(\$i);}
\DoxyCodeLine{    \$text = \$telegram-\/>Text();}
\DoxyCodeLine{    \$chat\_id = \$telegram-\/>ChatID();}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (\$text == \textcolor{stringliteral}{'/start'}) \{}
\DoxyCodeLine{        \$reply = \textcolor{stringliteral}{'Working'};}
\DoxyCodeLine{        \$content = array(\textcolor{stringliteral}{'chat\_id'} => \$chat\_id, \textcolor{stringliteral}{'text'} => \$reply);}
\DoxyCodeLine{        \$telegram-\/>sendMessage(\$content);}
\DoxyCodeLine{    \}}
\DoxyCodeLine{    \textcolor{comment}{// DO OTHER STUFF}}
\DoxyCodeLine{\}}

\end{DoxyCode}
 See get\+Updates.\+php for the complete example.\hypertarget{md__r_e_a_d_m_e_autotoc_md11}{}\doxysection{Functions}\label{md__r_e_a_d_m_e_autotoc_md11}
For a complete and up-\/to-\/date functions documentation check \href{http://eleirbag89.github.io/TelegramBotPHP/}{\texttt{ http\+://eleirbag89.\+github.\+io/\+Telegram\+Bot\+PHP/}}\hypertarget{md__r_e_a_d_m_e_autotoc_md12}{}\doxysection{Build keyboards}\label{md__r_e_a_d_m_e_autotoc_md12}
\mbox{\hyperlink{class_telegram}{Telegram}}\textquotesingle{}s bots can have two different kind of keyboards\+: Inline and Reply. ~\newline
 The Inline\+Keyboard is linked to a particular message, while the Reply\+Keyboard is linked to the whole chat. ~\newline
 They are both an array of array of buttons, which rapresent the rows and columns. ~\newline
 For instance you can arrange a Reply\+Keyboard like this\+:  using this code\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\$option = array( }
\DoxyCodeLine{    \textcolor{comment}{//First row}}
\DoxyCodeLine{    array(\$telegram-\/>buildKeyboardButton(\textcolor{stringliteral}{"{}Button 1"{}}), \$telegram-\/>buildKeyboardButton(\textcolor{stringliteral}{"{}Button 2"{}})), }
\DoxyCodeLine{    \textcolor{comment}{//Second row }}
\DoxyCodeLine{    array(\$telegram-\/>buildKeyboardButton(\textcolor{stringliteral}{"{}Button 3"{}}), \$telegram-\/>buildKeyboardButton(\textcolor{stringliteral}{"{}Button 4"{}}), \$telegram-\/>buildKeyboardButton(\textcolor{stringliteral}{"{}Button 5"{}})), }
\DoxyCodeLine{    \textcolor{comment}{//Third row}}
\DoxyCodeLine{    array(\$telegram-\/>buildKeyboardButton(\textcolor{stringliteral}{"{}Button 6"{}})) );}
\DoxyCodeLine{\$keyb = \$telegram-\/>buildKeyBoard(\$option, \$onetime=\textcolor{keyword}{false});}
\DoxyCodeLine{\$content = array(\textcolor{stringliteral}{'chat\_id'} => \$chat\_id, \textcolor{stringliteral}{'reply\_markup'} => \$keyb, \textcolor{stringliteral}{'text'} => \textcolor{stringliteral}{"{}This is a Keyboard Test"{}});}
\DoxyCodeLine{\$telegram-\/>sendMessage(\$content);}

\end{DoxyCode}
 When a user click on the button, the button text is send back to the bot. ~\newline
 For an Inline\+Keyboard it\textquotesingle{}s pretty much the same (but you need to provide a valid URL or a Callback data)  
\begin{DoxyCode}{0}
\DoxyCodeLine{\$option = array( }
\DoxyCodeLine{    \textcolor{comment}{//First row}}
\DoxyCodeLine{    array(\$telegram-\/>buildInlineKeyBoardButton(\textcolor{stringliteral}{"{}Button 1"{}}, \$url=\textcolor{stringliteral}{"{}http://link1.com"{}}), \$telegram-\/>buildInlineKeyBoardButton(\textcolor{stringliteral}{"{}Button 2"{}}, \$url=\textcolor{stringliteral}{"{}http://link2.com"{}})), }
\DoxyCodeLine{    \textcolor{comment}{//Second row }}
\DoxyCodeLine{    array(\$telegram-\/>buildInlineKeyBoardButton(\textcolor{stringliteral}{"{}Button 3"{}}, \$url=\textcolor{stringliteral}{"{}http://link3.com"{}}), \$telegram-\/>buildInlineKeyBoardButton(\textcolor{stringliteral}{"{}Button 4"{}}, \$url=\textcolor{stringliteral}{"{}http://link4.com"{}}), \$telegram-\/>buildInlineKeyBoardButton(\textcolor{stringliteral}{"{}Button 5"{}}, \$url=\textcolor{stringliteral}{"{}http://link5.com"{}})), }
\DoxyCodeLine{    \textcolor{comment}{//Third row}}
\DoxyCodeLine{    array(\$telegram-\/>buildInlineKeyBoardButton(\textcolor{stringliteral}{"{}Button 6"{}}, \$url=\textcolor{stringliteral}{"{}http://link6.com"{}})) );}
\DoxyCodeLine{\$keyb = \$telegram-\/>buildInlineKeyBoard(\$option);}
\DoxyCodeLine{\$content = array(\textcolor{stringliteral}{'chat\_id'} => \$chat\_id, \textcolor{stringliteral}{'reply\_markup'} => \$keyb, \textcolor{stringliteral}{'text'} => \textcolor{stringliteral}{"{}This is a Keyboard Test"{}});}
\DoxyCodeLine{\$telegram-\/>sendMessage(\$content);}

\end{DoxyCode}
 This is the list of all the helper functions to make keyboards easily\+: ~\newline



\begin{DoxyCode}{0}
\DoxyCodeLine{buildKeyBoard(array \$options, \$onetime=\textcolor{keyword}{true}, \$resize=\textcolor{keyword}{true}, \$selective=\textcolor{keyword}{true})}

\end{DoxyCode}
 Send a custom keyboard. \$option is an array of array Keyboard\+Button. ~\newline
 Check \href{https://core.telegram.org/bots/api\#replykeyboardmarkup}{\texttt{ Reply\+Key\+Board\+Mark\+Up}} for more info. ~\newline



\begin{DoxyCode}{0}
\DoxyCodeLine{buildInlineKeyBoard(array \$inline\_keyboard)}

\end{DoxyCode}
 Send a custom keyboard. \$inline\+\_\+keyboard is an array of array Inline\+Keyboard\+Button. ~\newline
 Check \href{https://core.telegram.org/bots/api\#inlinekeyboardmarkup}{\texttt{ Inline\+Keyboard\+Markup}} for more info. ~\newline



\begin{DoxyCode}{0}
\DoxyCodeLine{buildInlineKeyBoardButton(\$text, \$url, \$callback\_data, \$switch\_inline\_query)}

\end{DoxyCode}
 Create an Inline\+Keyboard\+Button. ~\newline
 Check \href{https://core.telegram.org/bots/api\#inlinekeyboardbutton}{\texttt{ Inline\+Key\+Board\+Button}} for more info. ~\newline



\begin{DoxyCode}{0}
\DoxyCodeLine{buildKeyBoardButton(\$text, \$url, \$request\_contact, \$request\_location)}

\end{DoxyCode}
 Create a Keyboard\+Button. ~\newline
 Check \href{https://core.telegram.org/bots/api\#keyboardbutton}{\texttt{ Key\+Board\+Button}} for more info. ~\newline



\begin{DoxyCode}{0}
\DoxyCodeLine{buildKeyBoardHide(\$selective=\textcolor{keyword}{true})}

\end{DoxyCode}
 Hide a custom keyboard. ~\newline
 Check \href{https://core.telegram.org/bots/api\#replykeyboardhide}{\texttt{ Reply\+Key\+Boar\+Hide}} for more info. ~\newline



\begin{DoxyCode}{0}
\DoxyCodeLine{buildForceReply(\$selective=\textcolor{keyword}{true})}

\end{DoxyCode}
 Show a Reply interface to the user. ~\newline
 Check \href{https://core.telegram.org/bots/api\#forcereply}{\texttt{ Force\+Reply}} for more info.\hypertarget{md__r_e_a_d_m_e_autotoc_md13}{}\doxysection{List of Bots using the library}\label{md__r_e_a_d_m_e_autotoc_md13}
Let me know using this \href{https://github.com/Eleirbag89/TelegramBotPHP/issues/80}{\texttt{ Issue}} if you have made a bot using this API, I will add it to this section. ~\newline

\begin{DoxyItemize}
\item \href{https://t.me/iHarfBot}{\texttt{ i\+Harf\+Bot}} -\/ Lang\+: Persian/\+Farsi
\item \href{https://t.me/AsansorBot}{\texttt{ Asansor\+Bot}} -\/ Lang\+: Persian/\+Farsi
\item \href{https://t.me/IDPbot}{\texttt{ IDPbot}} -\/ Lang\+: Persian/\+Farsi (Down as 14/10/2019)
\item \href{https://telegram.me/EvilInsultGeneratorBot}{\texttt{ Evil Insult Generator}} -\/ Lang English/\+German
\item \href{https://telegram.me/ibelitbot}{\texttt{ ibelitbot}} -\/Lang Persian (Down as 14/10/2019)
\item \href{https://telegram.me/apollbot}{\texttt{ Advanced Pools Bot}} -\/ Lang Italian/\+English(\href{https://poeditor.com/join/project/NMAUjrAZ5f}{\texttt{ Contribute}})
\item \href{https://telegram.me/Btn_Bot}{\texttt{ Btn\+\_\+\+Bot}} -\/ Lang pt-\/\+BR -\/ Cria botões transparente para publicações.
\item \href{https://telegram.me/DiffSGLaPuntabot}{\texttt{ Diff\+SGLa\+Puntabot}} \href{https://telegram.me/DiffGravinaCTbot}{\texttt{ Diff\+Gravina\+CTbot}} \href{https://t.me/DiffAdranobot}{\texttt{ Diff\+Adranobot}} -\/ Lang\+: it/\+Italian -\/ Bots to handle Recycling in San Giovanni La Punta, Gravina and Adrano (Open\+Source Template \href{https://github.com/Gualty/BOTDifferenziata}{\texttt{ https\+://github.\+com/\+Gualty/\+BOTDifferenziata}})
\item \href{https://t.me/CoReYe_PGO_bot}{\texttt{ Go\+Bot}}
\item \href{https://t.me/CoReYe_PGO_Raid_bot}{\texttt{ Raid\+Bot}}
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md14}{}\doxysection{Emoticons}\label{md__r_e_a_d_m_e_autotoc_md14}
For a list of emoticons to use in your bot messages, please refer to the column Bytes of this table\+: \href{http://apps.timwhitlock.info/emoji/tables/unicode}{\texttt{ http\+://apps.\+timwhitlock.\+info/emoji/tables/unicode}}\hypertarget{md__r_e_a_d_m_e_autotoc_md15}{}\doxysection{License}\label{md__r_e_a_d_m_e_autotoc_md15}
This open-\/source software is distributed under the MIT License. See LICENSE.\+md\hypertarget{md__r_e_a_d_m_e_autotoc_md16}{}\doxysection{Contributing}\label{md__r_e_a_d_m_e_autotoc_md16}
All kinds of contributions are welcome -\/ code, tests, documentation, bug reports, new features, etc...


\begin{DoxyItemize}
\item Send feedbacks.
\item Submit bug reports.
\item Write/\+Edit the documents.
\item Fix bugs or add new features.
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md17}{}\doxysection{Contact me}\label{md__r_e_a_d_m_e_autotoc_md17}
You can contact me \href{https://telegram.me/ggrillo}{\texttt{ via Telegram}} but if you have an issue please \href{https://github.com/Eleirbag89/TelegramBotPHP/issues}{\texttt{ open}} one.\hypertarget{md__r_e_a_d_m_e_autotoc_md18}{}\doxysection{Support me}\label{md__r_e_a_d_m_e_autotoc_md18}
You can support me using via Libera\+Pay \href{https://liberapay.com/eleirbag89/donate}{\texttt{ }}

or buy me a beer or two using \href{https://paypal.me/eleirbag89}{\texttt{ Paypal}}. 